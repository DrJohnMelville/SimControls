@page "/"
@using SimControls.WASM.NetworkConnections
@inject IInitialConnectionCache clientConnection
@inject NavigationManager nav;

<h1>SimControls.WASM</h1>
<p>Connecting to the server ...</p>

@code {

    protected override async void OnInitialized()
    {
        base.OnInitialized();

        await clientConnection.WaitForConnection();
        nav.NavigateTo("MainPanel");
    }

}